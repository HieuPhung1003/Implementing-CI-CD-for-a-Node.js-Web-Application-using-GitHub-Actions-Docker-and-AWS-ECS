{{> header}}

<div class="form-container">
    <div class="glass-pane form-card">
        <div class="form-header">
            <h1 class="form-title">Chỉnh sửa sản phẩm</h1>
            <p class="form-subtitle">Cập nhật thông tin: <strong style="color: var(--primary-color);">{{product.name}}</strong></p>
        </div>

        <form action="/inventory/edit/{{product.id}}" method="POST" class="product-form">
            <!-- Product Name -->
            <div class="form-group">
                <label class="form-label">Tên sản phẩm <span class="required">*</span></label>
                <input type="text" name="name" class="form-control" value="{{product.name}}" required placeholder="Tên sản phẩm" autofocus>
            </div>

            <!-- Supplier -->
            <div class="form-group">
                <label class="form-label">Nhà cung cấp</label>
                <input type="text" name="supplier" class="form-control" value="{{product.supplier}}" placeholder="Nhà cung cấp">
            </div>

            <!-- Category -->
            <div class="form-group">
                <label class="form-label">Danh mục <span class="required">*</span></label>
                <select name="category" class="form-control form-select" required>
                    <option value="{{product.category}}" selected>{{product.category}}</option>
                    <option value="Máy tính">Máy tính</option>
                    <option value="Phụ kiện">Phụ kiện</option>
                    <option value="Gia dụng">Gia dụng</option>
                    <option value="Điện tử">Điện tử</option>
                    <option value="Khác">Khác</option>
                </select>
            </div>

            <!-- Quantity & Price -->
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Số lượng <span class="required">*</span></label>
                    <input type="number" name="quantity" class="form-control" value="{{product.quantity}}" required min="0">
                </div>

                <div class="form-group">
                    <label class="form-label">Giá bán (VNĐ) <span class="required">*</span></label>
                    <input type="number" name="price" class="form-control" value="{{product.price}}" required min="0">
                </div>
            </div>

            <!-- Min Stock -->
            <div class="form-group">
                <label class="form-label">Cảnh báo tồn kho tối thiểu</label>
                <input type="number" name="minStock" class="form-control" min="0" value="{{product.minStock}}" placeholder="10">
                <small class="form-helper">Hệ thống sẽ cảnh báo khi số lượng dưới mức này</small>
            </div>

            <!-- Product ID Info -->
            <div class="form-info">
                <span>ID sản phẩm: <strong>#{{product.id}}</strong></span>
            </div>

            <!-- Actions -->
            <div class="form-actions">
                <a href="/inventory" class="btn btn-secondary btn-large">Hủy</a>
                <button type="submit" class="btn btn-primary btn-large">Cập nhật</button>
            </div>
        </form>
    </div>
</div>

<style>
    .form-container {
        max-width: 600px;
        margin: 3rem auto;
        padding: 0 1rem;
    }

    .form-card {
        padding: 2.5rem;
    }

    .form-header {
        text-align: center;
        margin-bottom: 2.5rem;
    }

    .form-title {
        margin: 0;
        font-size: 1.8rem;
        color: var(--text-color);
    }

    .form-subtitle {
        margin: 0.5rem 0 0 0;
        color: var(--text-muted);
    }

    .product-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .required {
        color: #ef4444;
    }

    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }

    .form-select {
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%2394a3b8'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
    }

    .form-info {
        background: rgba(99, 102, 241, 0.1);
        padding: 1rem;
        border-radius: 0.5rem;
        color: var(--text-muted);
        text-align: center;
        font-size: 0.9rem;
    }

    .form-actions {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
    }

    .form-actions .btn {
        flex: 1;
    }

    @media (max-width: 480px) {
        .form-row {
            grid-template-columns: 1fr;
        }

        .form-actions {
            flex-direction: column;
        }

        .form-card {
            padding: 1.5rem;
        }
    }
</style>

{{> footer}}